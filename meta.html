<html lang="en"><head><!DOCTYPE html><head><meta charset="utf-8"><title>Web Sandbox - Background</title><meta content="Web Sandbox" name="description"><meta content="width=device-width,initial-scale=1" name="viewport"><link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" rel="stylesheet"></head></head><body><nav class="bg-dark navbar navbar-dark navbar-expand-lg"><a class="navbar-brand" href="index.html">A Website Template</a><button aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-target="#navbarSupportedContent" data-toggle="collapse" type="button"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="mr-auto navbar-nav"><li class="active nav-item"><a class="nav-link" href="index.html">Home</a></li><li class="active nav-item"><a class="nav-link" href="custom.html">Custom JS/CSS</a></li><li class="active nav-item"><a class="nav-link" href="meta.html">Meta</a></li><li class="active nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" aria-expanded="false" aria-haspopup="true" data-toggle="dropdown" id="navbarDropdown" role="button">Walkthrough</a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="index.html#Setup">Setup</a><a class="dropdown-item" href="index.html#New">New Content</a><a class="dropdown-item" href="index.html#Live">Live Editing</a><a class="dropdown-item" href="index.html#Hosting">Hosting</a></div></li></ul></div></nav><div class="jumbotron jumbotron-fluid"><div class="container"><h1 class="display-4">Background</h1><hr class="my-4"><p class="lead">What's all this about?</p></div></div><div class="container"><p>A website doesn't always need to be dynamic. You may not need much of a backend if any for:</p><ul><li>project documentation (like this!)</li><li>Responsively styling such documentation with frameworks like Bootstrap</li><li>An HTML5 game that saves to localstorage</li><li>A web app that transforms local files uploaded and downloaded with the File API</li></ul><p>So we know we want a static site, but how do we write it cleanly? HTML and CSS are less than "DRY," and Javascript's got new ES versions coming out every year now.</p><p>In come templating languages. Templates let us use concepts like mixins and includes to reuse common blocks of code. When used appropriately this can make Pug much more dry than plain HTML; the same with SASS/SCSS and CSS. Typescript and Babel can help us write JS toward whatever compatibility we need and give us includes to local components and npm modules. But templates need a build system to run before testing each edit, and nobody wants manual steps in their build system in 2019. Ideally, we want both an easy testing process and dry code.</p><h3>GULP</h3><p>Plenty of sites explain automating one piece of this puzzle with gulp, like using gulp-pug to compile Pug files. Here we've gathered many of the most useful snippets into a single consistent gulpfile.</p><ul><li>Pull in template files from a directory separate from includes/modules</li><li>Compile those files from the template language to something a user's browser will understand</li><li>Use languages that act as "supersets," so we can write directly in HTML/CSS/JS as is useful</li><li>Minify everything</li><li>Generate sourcemaps</li></ul><p>These steps are reflected where possible in HTML/CSS/JS:</p><ul><li>For HTML, Pug templates are compiled with gulp-pug and then minified with gulp-htmlmin. HTML sourcemaps are not currently available</li><li>For CSS, SCSS templates are compiled with gulp-sass and then minified with gulp-csso, with both wrapped in gulp-sourcemaps</li><li>For JS, Typescript files are transpiled and packed with includes using tsify/browserify, then minified with gulp-uglify while piping sourcemaps gulp-sourcemaps</li></ul><p>Often the HTML minification step gets left by the wayside, and for good reason. Static sites already run fast, it may be ugly to inspect (see the above point about Pug sourcemaps), gzip compresses whitespace easily, and usually there's lower hanging fruit! But with this design philosophy and the ease of testing, minifying HTML is nearly a free win. Just using gulp-pug we get much cleaner production HTML, and htmlmin is icing on the cake.</p><h3>Live editing</h3><p>Now we have the following tasks set up to generate our production code from dry templates:</p><ul><li>gulp pages</li><li>gulp styles</li><li>gulp scripts</li><li>gulp clean (to reset the dist directory)</li><li>gulp (default, runs pages, styles, and scripts at once)</li></ul><p>But we want to overcome that sticking point of running a script each time we edit a file:</p><ul><li>gulp watch</li></ul><p>The gulp watch task in this project's gulpfile can track changes to any of our template files. With VS Code's Live Server extension, we can open an HTML file in dist and watch a compiled page live. We can also configure Live Server to handle /dist with liveserver.settings.root. This gives us a continuous development process:</p><ul><li>Run "gulp clean" and "gulp" to get up to date</li><li>Start "gulp watch"</li><li>Open the html page you want to develop in /dist with Live Server</li><li>Continue developing anything in /src and save to see exactly what a user would see if /dist were hosted</li><li>Inspect has access to sourcemaps, particularly useful to figure out which SCSS rule led to a style</li></ul><h3>Did I Say Hosting?</h3><p>GitHub Pages makes it very straightforward to host a static website with this design philosophy. We just have to leave the "dist" directory out of the usual gitignore, and our static site has access to a simple command for hosting at GitHub.</p><ul><li>git subtree push --prefix dist origin gh-pages</li></ul><p></p><hr class="my-4"><h4>TiKevin83 (Travis McGeehan)</h4><p class="lead">Web Developer - Macatawa Bank</p></div><script crossorigin="anonymous" integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8=" src="https://code.jquery.com/jquery-3.4.1.slim.min.js"></script><script crossorigin="anonymous" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script><script crossorigin="anonymous" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script></body></html>